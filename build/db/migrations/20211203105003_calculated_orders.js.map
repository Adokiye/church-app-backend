{"version":3,"sources":["../../../src/db/migrations/20211203105003_calculated_orders.js"],"names":["up","knex","schema","createTable","table","uuid","primary","notNullable","string","defaultTo","jsonb","references","inTable","onDelete","timestamps","down","dropTableIfExists"],"mappings":";;;;;;;AAAO,IAAMA,EAAE,GAAG,SAALA,EAAK,CAAAC,IAAI;AAAA,SACpBA,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwB,mBAAxB,EAA6C,UAAAC,KAAK,EAAI;AACpDA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,OAAjB,GAA2BC,WAA3B;AACAH,IAAAA,KAAK,CAACI,MAAN,CAAa,cAAb,EAA6BD,WAA7B;AACAH,IAAAA,KAAK,CAACI,MAAN,CAAa,cAAb,EAA6BD,WAA7B;AACAH,IAAAA,KAAK,CAACI,MAAN,CAAa,gBAAb,EAA+BD,WAA/B,GAA6CE,SAA7C,CAAuD,GAAvD;AACAL,IAAAA,KAAK,CAACI,MAAN,CAAa,SAAb,EAAwBD,WAAxB;AACAH,IAAAA,KAAK,CAACM,KAAN,CAAY,OAAZ,EAAqBH,WAArB;AACAH,IAAAA,KAAK,CAACI,MAAN,CAAa,KAAb,EAAoBD,WAApB;AACAH,IAAAA,KAAK,CAACI,MAAN,CAAa,KAAb,EAAoBD,WAApB;AACAH,IAAAA,KAAK,CAACC,IAAN,CAAW,SAAX,EAAsBM,UAAtB,CAAiC,IAAjC,EAAuCC,OAAvC,CAA+C,OAA/C,EAAwDC,QAAxD,CAAiE,SAAjE;AACAT,IAAAA,KAAK,CACFC,IADH,CACQ,sBADR,EAEGM,UAFH,CAEc,IAFd,EAGGC,OAHH,CAGW,oBAHX,EAIGC,QAJH,CAIY,SAJZ,EAKGN,WALH;AAMAH,IAAAA,KAAK,CAACU,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACD,GAjBD,CADoB;AAAA,CAAf;;;;AAoBA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAd,IAAI;AAAA,SAAIA,IAAI,CAACC,MAAL,CAAYc,iBAAZ,CAA8B,mBAA9B,CAAJ;AAAA,CAAjB","sourcesContent":["export const up = knex =>\n  knex.schema.createTable('calculated_orders', table => {\n    table.uuid('id').primary().notNullable()\n    table.string('total_amount').notNullable()\n    table.string('delivery_fee').notNullable()\n    table.string('service_charge').notNullable().defaultTo('0')\n    table.string('address').notNullable()\n    table.jsonb('meals').notNullable()\n    table.string('lat').notNullable()\n    table.string('lng').notNullable()\n    table.uuid('deal_id').references('id').inTable('deals').onDelete('CASCADE')\n    table\n      .uuid('cokitchen_polygon_id')\n      .references('id')\n      .inTable('cokitchen_polygons')\n      .onDelete('CASCADE')\n      .notNullable()\n    table.timestamps(true, true)\n  })\n\nexport const down = knex => knex.schema.dropTableIfExists('calculated_orders')\n"],"file":"20211203105003_calculated_orders.js"}