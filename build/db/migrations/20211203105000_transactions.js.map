{"version":3,"sources":["../../../src/db/migrations/20211203105000_transactions.js"],"names":["up","knex","schema","createTable","table","uuid","unique","primary","notNullable","bigInteger","enu","defaultTo","string","references","inTable","onDelete","timestamps","down","dropTableIfExists"],"mappings":";;;;;;;AAAO,IAAMA,EAAE,GAAG,SAALA,EAAK,CAAAC,IAAI;AAAA,SAClBA,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwB,cAAxB,EAAwC,UAACC,KAAD,EAAW;AACjDA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,MAAjB,GAA0BC,OAA1B,GAAoCC,WAApC;AACAJ,IAAAA,KAAK,CAACK,UAAN,CAAiB,QAAjB;AACAL,IAAAA,KAAK,CAACM,GAAN,CAAU,kBAAV,EAA8B,CAAC,SAAD,EAAY,UAAZ,EAAwB,UAAxB,CAA9B,EAAmE,CACjE;AACA;AAFiE,KAAnE;AAIAN,IAAAA,KAAK,CAACM,GAAN,CAAU,oBAAV,EAAgC,CAAC,QAAD,EAAW,OAAX,CAAhC,EAAqD,CACnD;AACA;AAFmD,KAArD;AAIAN,IAAAA,KAAK,CACFM,GADH,CACO,oBADP,EAC6B,CAAC,SAAD,EAAY,SAAZ,EAAuB,QAAvB,CAD7B,EAC+D,CAC3D;AACA;AAF2D,KAD/D,EAKGC,SALH,CAKa,SALb;AAMAP,IAAAA,KAAK,CAACQ,MAAN,CAAa,aAAb;AACAR,IAAAA,KAAK,CAACQ,MAAN,CAAa,QAAb;AACAR,IAAAA,KAAK,CAACQ,MAAN,CAAa,WAAb;AACAR,IAAAA,KAAK,CAACC,IAAN,CAAW,SAAX,EAAsBQ,UAAtB,CAAiC,IAAjC,EAAuCC,OAAvC,CAA+C,OAA/C,EAAwDC,QAAxD,CAAiE,SAAjE,EAA4EP,WAA5E;AACAJ,IAAAA,KAAK,CAACY,UAAN,CAAiB,IAAjB;AACD,GAtBD,CADkB;AAAA,CAAf;;;;AA0BA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAChB,IAAD,EAAS;AACzB,SAAOA,IAAI,CAACC,MAAL,CAAYgB,iBAAZ,CAA8B,cAA9B,CAAP,CADyB,CAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH,CAlBM","sourcesContent":["export const up = knex =>\n    knex.schema.createTable('transactions', (table) => {\n      table.uuid('id').unique().primary().notNullable();\n      table.bigInteger('amount');\n      table.enu('transaction_type', ['Deposit', 'Transfer', 'Withdraw'], {\n        // useNative: true,\n        // enumName: 'transaction_type',\n      });\n      table.enu('transaction_action', ['Credit', 'Debit'], {\n        // useNative: true,\n        // enumName: 'transaction_action',\n      });\n      table\n        .enu('transaction_status', ['Pending', 'Success', 'Failed'], {\n          // useNative: true,\n          // enumName: 'transaction_status',\n        })\n        .defaultTo('Pending');\n      table.string('description');\n      table.string('reason');\n      table.string('reference');\n      table.uuid('user_id').references('id').inTable('users').onDelete('CASCADE').notNullable();\n      table.timestamps(true);\n    });\n  \n\nexport const down = (knex)=> {\n    return knex.schema.dropTableIfExists('transactions')\n    // knex.raw(\n    //     `\n    //     DROP TYPE \"transaction_type\";\n    //     `\n    //   );\n    //   return knex.raw(\n    //     `\n    //     DROP TYPE \"transaction_status\";\n    //     `\n    //   );\n    // return knex.raw(\n    //     `\n    //     DROP TYPE \"transaction_action\";\n    //     `\n    //   );\n\n}\n"],"file":"20211203105000_transactions.js"}