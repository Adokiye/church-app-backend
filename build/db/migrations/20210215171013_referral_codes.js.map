{"version":3,"sources":["../../../src/db/migrations/20210215171013_referral_codes.js"],"names":["exports","up","knex","schema","raw","createTable","table","uuid","unique","primary","notNullable","references","inTable","onDelete","string","timestamps","down","dropTable"],"mappings":";;AAAAA,OAAO,CAACC,EAAR,GAAa,UAAUC,IAAV,EAAgB;AAC3B,SAAOA,IAAI,CAACC,MAAL,CACJC,GADI,CACA,uCADA,EAEJC,WAFI,CAEQ,gBAFR,EAE0B,UAAAC,KAAK,EAAI;AACtCA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,MAAjB,GAA0BC,OAA1B,GAAoCC,WAApC;AACAJ,IAAAA,KAAK,CAACC,IAAN,CAAW,SAAX,EAAsBI,UAAtB,CAAiC,IAAjC,EAAuCC,OAAvC,CAA+C,OAA/C,EAAwDC,QAAxD,CAAiE,SAAjE,EAA4EH,WAA5E;AACAJ,IAAAA,KAAK,CAACQ,MAAN,CAAa,MAAb;AACAR,IAAAA,KAAK,CAACS,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACD,GAPI,CAAP;AAQD,CATD;;AAWAf,OAAO,CAACgB,IAAR,GAAe,UAAUd,IAAV,EAAgB;AAC7B,SAAOA,IAAI,CAACC,MAAL,CAAYc,SAAZ,CAAsB,gBAAtB,CAAP;AACD,CAFD","sourcesContent":["exports.up = function (knex) {\n  return knex.schema\n    .raw('CREATE EXTENSION IF NOT EXISTS CITEXT')\n    .createTable('referral_codes', table => {\n      table.uuid('id').unique().primary().notNullable()\n      table.uuid('user_id').references('id').inTable('users').onDelete('CASCADE').notNullable()\n      table.string('code')\n      table.timestamps(true, true)\n    })\n}\n\nexports.down = function (knex) {\n  return knex.schema.dropTable('referral_codes')\n}\n"],"file":"20210215171013_referral_codes.js"}