{"version":3,"sources":["../../../src/db/migrations/20210215171113_used_referral_codes.js"],"names":["exports","up","knex","schema","raw","createTable","table","uuid","unique","primary","notNullable","references","inTable","onDelete","timestamps","down","dropTable"],"mappings":";;AAAAA,OAAO,CAACC,EAAR,GAAa,UAAUC,IAAV,EAAgB;AAC3B,SAAOA,IAAI,CAACC,MAAL,CACJC,GADI,CACA,uCADA,EAEJC,WAFI,CAEQ,qBAFR,EAE+B,UAAAC,KAAK,EAAI;AAC3CA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,MAAjB,GAA0BC,OAA1B,GAAoCC,WAApC;AACAJ,IAAAA,KAAK,CAACC,IAAN,CAAW,SAAX,EAAsBI,UAAtB,CAAiC,IAAjC,EAAuCC,OAAvC,CAA+C,OAA/C,EAAwDC,QAAxD,CAAiE,SAAjE,EAA4EH,WAA5E;AACAJ,IAAAA,KAAK,CAACC,IAAN,CAAW,kBAAX,EAA+BI,UAA/B,CAA0C,IAA1C,EAAgDC,OAAhD,CAAwD,gBAAxD,EAA0EC,QAA1E,CAAmF,SAAnF,EAA8FH,WAA9F;AAEAJ,IAAAA,KAAK,CAACQ,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACD,GARI,CAAP;AASD,CAVD;;AAYAd,OAAO,CAACe,IAAR,GAAe,UAAUb,IAAV,EAAgB;AAC7B,SAAOA,IAAI,CAACC,MAAL,CAAYa,SAAZ,CAAsB,qBAAtB,CAAP;AACD,CAFD","sourcesContent":["exports.up = function (knex) {\n  return knex.schema\n    .raw('CREATE EXTENSION IF NOT EXISTS CITEXT')\n    .createTable('used_referral_codes', table => {\n      table.uuid('id').unique().primary().notNullable()\n      table.uuid('user_id').references('id').inTable('users').onDelete('CASCADE').notNullable()\n      table.uuid('referral_code_id').references('id').inTable('referral_codes').onDelete('CASCADE').notNullable()\n\n      table.timestamps(true, true)\n    })\n}\n\nexports.down = function (knex) {\n  return knex.schema.dropTable('used_referral_codes')\n}\n"],"file":"20210215171113_used_referral_codes.js"}