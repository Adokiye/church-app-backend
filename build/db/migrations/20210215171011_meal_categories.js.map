{"version":3,"sources":["../../../src/db/migrations/20210215171011_meal_categories.js"],"names":["exports","up","knex","schema","raw","createTable","table","uuid","primary","notNullable","string","unique","timestamps","jsonb","defaultTo","JSON","stringify","references","inTable","onDelete","down","dropTable"],"mappings":";;AAAAA,OAAO,CAACC,EAAR,GAAa,UAAUC,IAAV,EAAgB;AAC3B,SAAOA,IAAI,CAACC,MAAL,CACJC,GADI,CACA,uCADA,EAEJC,WAFI,CAEQ,iBAFR,EAE2B,UAAAC,KAAK,EAAI;AACvCA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,OAAjB,GAA2BC,WAA3B;AACAH,IAAAA,KAAK,CAACI,MAAN,CAAa,MAAb,EAAqBC,MAArB;AACAL,IAAAA,KAAK,CAACI,MAAN,CAAa,SAAb,EAAwB,EAAxB;AACAJ,IAAAA,KAAK,CAACI,MAAN,CAAa,aAAb,EAA4B,IAA5B;AACAJ,IAAAA,KAAK,CAACM,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACAN,IAAAA,KAAK,CAACO,KAAN,CAAY,QAAZ,EAAsBJ,WAAtB,GAAoCK,SAApC,CAA8CC,IAAI,CAACC,SAAL,CAAe,EAAf,CAA9C;AACAV,IAAAA,KAAK,CAACO,KAAN,CAAY,aAAZ,EAA2BJ,WAA3B,GAAyCK,SAAzC,CAAmDC,IAAI,CAACC,SAAL,CAAe,EAAf,CAAnD;AACAV,IAAAA,KAAK,CAACI,MAAN,CAAa,MAAb;AACAJ,IAAAA,KAAK,CAACI,MAAN,CAAa,cAAb;AAEAJ,IAAAA,KAAK,CACFC,IADH,CACQ,iCADR,EAEGU,UAFH,CAEc,IAFd,EAGGC,OAHH,CAGW,+BAHX,EAIGC,QAJH,CAIY,SAJZ,EAKGV,WALH;AAMAH,IAAAA,KAAK,CACFC,IADH,CACQ,wBADR,EAEGU,UAFH,CAEc,IAFd,EAGGC,OAHH,CAGW,uBAHX,EAIGC,QAJH,CAIY,SAJZ;AAKD,GAxBI,CAAP;AAyBD,CA1BD;;AA4BAnB,OAAO,CAACoB,IAAR,GAAe,UAAUlB,IAAV,EAAgB;AAC7B,SAAOA,IAAI,CAACC,MAAL,CAAYkB,SAAZ,CAAsB,iBAAtB,CAAP;AACD,CAFD","sourcesContent":["exports.up = function (knex) {\n  return knex.schema\n    .raw('CREATE EXTENSION IF NOT EXISTS CITEXT')\n    .createTable('meal_categories', table => {\n      table.uuid('id').primary().notNullable()\n      table.string('name').unique()\n      table.string('summary', 80)\n      table.string('description', 1000)\n      table.timestamps(true, true)\n      table.jsonb('images').notNullable().defaultTo(JSON.stringify([]))\n      table.jsonb('posist_data').notNullable().defaultTo(JSON.stringify({}))\n      table.string('icon')\n      table.string('selection_no')\n\n      table\n        .uuid('meal_category_selection_type_id')\n        .references('id')\n        .inTable('meal_category_selection_types')\n        .onDelete('CASCADE')\n        .notNullable()\n      table\n        .uuid('super_meal_category_id')\n        .references('id')\n        .inTable('super_meal_categories')\n        .onDelete('CASCADE')\n    })\n}\n\nexports.down = function (knex) {\n  return knex.schema.dropTable('meal_categories')\n}\n"],"file":"20210215171011_meal_categories.js"}