{"version":3,"sources":["../../../src/db/migrations/20210215171011_meal_categories.js"],"names":["exports","up","knex","schema","raw","createTable","table","uuid","primary","notNullable","string","unique","timestamps","jsonb","defaultTo","JSON","stringify","references","inTable","onDelete","down","dropTable"],"mappings":";;AAAAA,OAAO,CAACC,EAAR,GAAa,UAAUC,IAAV,EAAgB;AAC3B,SAAOA,IAAI,CAACC,MAAL,CAAYC,GAAZ,CAAgB,uCAAhB,EACNC,WADM,CACM,iBADN,EACyB,UAACC,KAAD,EAAW;AACzCA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,OAAjB,GAA2BC,WAA3B;AACAH,IAAAA,KAAK,CAACI,MAAN,CAAa,MAAb,EAAqBC,MAArB;AACAL,IAAAA,KAAK,CAACM,UAAN,CAAiB,IAAjB,EAAsB,IAAtB;AACAN,IAAAA,KAAK,CAACO,KAAN,CAAY,QAAZ,EAAsBJ,WAAtB,GAAoCK,SAApC,CAA8CC,IAAI,CAACC,SAAL,CAAe,EAAf,CAA9C;AACAV,IAAAA,KAAK,CAACO,KAAN,CAAY,aAAZ,EAA2BJ,WAA3B,GAAyCK,SAAzC,CAAmDC,IAAI,CAACC,SAAL,CAAe,EAAf,CAAnD;AAEAV,IAAAA,KAAK,CAACC,IAAN,CAAW,wBAAX,EAAqCU,UAArC,CAAgD,IAAhD,EAAsDC,OAAtD,CAA8D,uBAA9D,EAAuFC,QAAvF,CAAgG,SAAhG;AAED,GAVM,CAAP;AAWD,CAZD;;AAcAnB,OAAO,CAACoB,IAAR,GAAe,UAAUlB,IAAV,EAAgB;AAC7B,SAAOA,IAAI,CAACC,MAAL,CAAYkB,SAAZ,CAAsB,iBAAtB,CAAP;AACD,CAFD","sourcesContent":["exports.up = function (knex) {\n  return knex.schema.raw('CREATE EXTENSION IF NOT EXISTS CITEXT')\n  .createTable(\"meal_categories\", (table) => {\n    table.uuid('id').primary().notNullable()\n    table.string(\"name\").unique();\n    table.timestamps(true,true);\n    table.jsonb(\"images\").notNullable().defaultTo(JSON.stringify([]));\n    table.jsonb(\"posist_data\").notNullable().defaultTo(JSON.stringify({}));\n\n    table.uuid('super_meal_category_id').references('id').inTable('super_meal_categories').onDelete('CASCADE');\n\n  });\n};\n\nexports.down = function (knex) {\n  return knex.schema.dropTable(\"meal_categories\");\n};\n"],"file":"20210215171011_meal_categories.js"}