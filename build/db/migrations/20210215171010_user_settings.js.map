{"version":3,"sources":["../../../src/db/migrations/20210215171010_user_settings.js"],"names":["exports","up","knex","schema","raw","createTable","table","uuid","unique","primary","notNullable","references","inTable","onDelete","defaultTo","string","timestamps","down","dropTable"],"mappings":";;AAAAA,OAAO,CAACC,EAAR,GAAa,UAAUC,IAAV,EAAgB;AAC3B,SAAOA,IAAI,CAACC,MAAL,CACJC,GADI,CACA,uCADA,EAEJC,WAFI,CAEQ,eAFR,EAEyB,UAAAC,KAAK,EAAI;AACrCA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,MAAjB,GAA0BC,OAA1B,GAAoCC,WAApC;AACAJ,IAAAA,KAAK,CAACC,IAAN,CAAW,SAAX,EAAsBI,UAAtB,CAAiC,IAAjC,EAAuCC,OAAvC,CAA+C,OAA/C,EAAwDC,QAAxD,CAAiE,SAAjE,EAA4EH,WAA5E;AACAJ,IAAAA,KAAK,WAAL,CAAc,oBAAd,EAAoCQ,SAApC,CAA8C,IAA9C;AACAR,IAAAA,KAAK,WAAL,CAAc,kBAAd,EAAkCQ,SAAlC,CAA4C,IAA5C;AACAR,IAAAA,KAAK,WAAL,CAAc,iBAAd,EAAiCQ,SAAjC,CAA2C,IAA3C;AACAR,IAAAA,KAAK,CAACS,MAAN,CAAa,qBAAb;AACAT,IAAAA,KAAK,WAAL,CAAc,qBAAd,EAAqCQ,SAArC,CAA+C,IAA/C;AACAR,IAAAA,KAAK,WAAL,CAAc,8CAAd,EAA8DQ,SAA9D,CAAwE,IAAxE;AACAR,IAAAA,KAAK,WAAL,CAAc,sDAAd,EAAsEQ,SAAtE,CAAgF,IAAhF;AACAR,IAAAA,KAAK,WAAL,CAAc,8CAAd,EAA8DQ,SAA9D,CAAwE,IAAxE;AACAR,IAAAA,KAAK,WAAL,CAAc,4CAAd,EAA4DQ,SAA5D,CAAsE,IAAtE;AACAR,IAAAA,KAAK,WAAL,CAAc,kDAAd,EAAkEQ,SAAlE,CAA4E,IAA5E;AAEAR,IAAAA,KAAK,CAACU,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACD,GAjBI,CAAP;AAkBD,CAnBD;;AAqBAhB,OAAO,CAACiB,IAAR,GAAe,UAAUf,IAAV,EAAgB;AAC7B,SAAOA,IAAI,CAACC,MAAL,CAAYe,SAAZ,CAAsB,eAAtB,CAAP;AACD,CAFD","sourcesContent":["exports.up = function (knex) {\n  return knex.schema\n    .raw('CREATE EXTENSION IF NOT EXISTS CITEXT')\n    .createTable('user_settings', table => {\n      table.uuid('id').unique().primary().notNullable()\n      table.uuid('user_id').references('id').inTable('users').onDelete('CASCADE').notNullable()\n      table.boolean('email_notification').defaultTo(true)\n      table.boolean('sms_notification').defaultTo(true)\n      table.boolean('order_statement').defaultTo(true)\n      table.string('statement_frequency')\n      table.boolean('device_notification').defaultTo(true)\n      table.boolean('device_notification_all_deals_and_promotions').defaultTo(true)\n      table.boolean('device_notification_special_offers_and_announcements').defaultTo(true)\n      table.boolean('device_notification_when_order_is_on_the_way').defaultTo(true)\n      table.boolean('device_notification_when_order_is_arriving').defaultTo(true)\n      table.boolean('device_notification_when_order_is_being_prepared').defaultTo(true)\n\n      table.timestamps(true, true)\n    })\n}\n\nexports.down = function (knex) {\n  return knex.schema.dropTable('user_settings')\n}"],"file":"20210215171010_user_settings.js"}