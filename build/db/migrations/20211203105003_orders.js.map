{"version":3,"sources":["../../../src/db/migrations/20211203105003_orders.js"],"names":["up","knex","schema","createTable","table","uuid","primary","notNullable","references","inTable","onDelete","jsonb","defaultTo","timestamps","down","dropTableIfExists"],"mappings":";;;;;;;AAAO,IAAMA,EAAE,GAAG,SAALA,EAAK,CAAAC,IAAI;AAAA,SACpBA,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwB,QAAxB,EAAkC,UAAAC,KAAK,EAAI;AACzCA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,OAAjB,GAA2BC,WAA3B;AACAH,IAAAA,KAAK,CACFC,IADH,CACQ,eADR,EAEGG,UAFH,CAEc,IAFd,EAGGC,OAHH,CAGW,aAHX,EAIGC,QAJH,CAIY,SAJZ,EAKGH,WALH;AAMAH,IAAAA,KAAK,CACFC,IADH,CACQ,cADR,EAEGG,UAFH,CAEc,IAFd,EAGGC,OAHH,CAGW,YAHX,EAIGC,QAJH,CAIY,SAJZ;AAKAN,IAAAA,KAAK,CAACO,KAAN,CAAY,eAAZ,EAA6BJ,WAA7B,GAA2CK,SAA3C,CAAqD,EAArD;AACAR,IAAAA,KAAK,WAAL,CAAc,WAAd,EAA2BG,WAA3B,GAAyCK,SAAzC,CAAmD,KAAnD;AACAR,IAAAA,KAAK,WAAL,CAAc,WAAd,EAA2BQ,SAA3B,CAAqC,KAArC;AACAR,IAAAA,KAAK,WAAL,CAAc,MAAd,EAAsBQ,SAAtB,CAAgC,KAAhC;AACAR,IAAAA,KAAK,CACFC,IADH,CACQ,qBADR,EAEGG,UAFH,CAEc,IAFd,EAGGC,OAHH,CAGW,mBAHX,EAIGC,QAJH,CAIY,SAJZ,EAKGH,WALH;AAMAH,IAAAA,KAAK,CAACS,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACD,GAxBD,CADoB;AAAA,CAAf;;;;AA2BA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAb,IAAI;AAAA,SAAIA,IAAI,CAACC,MAAL,CAAYa,iBAAZ,CAA8B,QAA9B,CAAJ;AAAA,CAAjB","sourcesContent":["export const up = knex =>\n  knex.schema.createTable('orders', table => {\n    table.uuid('id').primary().notNullable()\n    table\n      .uuid('order_type_id')\n      .references('id')\n      .inTable('order_types')\n      .onDelete('CASCADE')\n      .notNullable()\n    table\n      .uuid('user_card_id')\n      .references('id')\n      .inTable('user_cards')\n      .onDelete('CASCADE')\n    table.jsonb('order_details').notNullable().defaultTo([])\n    table.boolean('completed').notNullable().defaultTo(false)\n    table.boolean('cancelled').defaultTo(false)\n    table.boolean('paid').defaultTo(false)\n    table\n      .uuid('calculated_order_id')\n      .references('id')\n      .inTable('calculated_orders')\n      .onDelete('CASCADE')\n      .notNullable()\n    table.timestamps(true, true)\n  })\n\nexport const down = knex => knex.schema.dropTableIfExists('orders')\n"],"file":"20211203105003_orders.js"}