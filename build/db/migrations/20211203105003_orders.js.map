{"version":3,"sources":["../../../src/db/migrations/20211203105003_orders.js"],"names":["up","knex","schema","createTable","table","uuid","primary","notNullable","references","inTable","onDelete","jsonb","defaultTo","timestamps","down","dropTableIfExists"],"mappings":";;;;;;;AAAO,IAAMA,EAAE,GAAG,SAALA,EAAK,CAAAC,IAAI;AAAA,SACpBA,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwB,QAAxB,EAAkC,UAAAC,KAAK,EAAI;AACzCA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,OAAjB,GAA2BC,WAA3B;AACAH,IAAAA,KAAK,CAACC,IAAN,CAAW,eAAX,EAA4BG,UAA5B,CAAuC,IAAvC,EAA6CC,OAA7C,CAAqD,aAArD,EAAoEC,QAApE,CAA6E,SAA7E,EAAwFH,WAAxF;AACAH,IAAAA,KAAK,CAACC,IAAN,CAAW,cAAX,EAA2BG,UAA3B,CAAsC,IAAtC,EAA4CC,OAA5C,CAAoD,YAApD,EAAkEC,QAAlE,CAA2E,SAA3E;AACAN,IAAAA,KAAK,CAACO,KAAN,CAAY,eAAZ,EAA6BJ,WAA7B;AACAH,IAAAA,KAAK,WAAL,CAAc,WAAd,EAA2BG,WAA3B,GAAyCK,SAAzC,CAAmD,IAAnD;AACAR,IAAAA,KAAK,WAAL,CAAc,WAAd,EAA2BQ,SAA3B,CAAqC,KAArC;AACAR,IAAAA,KAAK,WAAL,CAAc,MAAd,EAAsBQ,SAAtB,CAAgC,KAAhC;AACAR,IAAAA,KAAK,CAACC,IAAN,CAAW,qBAAX,EAAkCG,UAAlC,CAA6C,IAA7C,EAAmDC,OAAnD,CAA2D,mBAA3D,EAAgFC,QAAhF,CAAyF,SAAzF,EAAoGH,WAApG;AACAH,IAAAA,KAAK,CAACS,UAAN,CAAiB,IAAjB,EAAsB,IAAtB;AAED,GAXD,CADoB;AAAA,CAAf;;;;AAcA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAb,IAAI;AAAA,SAAIA,IAAI,CAACC,MAAL,CAAYa,iBAAZ,CAA8B,QAA9B,CAAJ;AAAA,CAAjB","sourcesContent":["export const up = knex =>\n  knex.schema.createTable('orders', table => {\n    table.uuid('id').primary().notNullable()\n    table.uuid('order_type_id').references('id').inTable('order_types').onDelete('CASCADE').notNullable();\n    table.uuid('user_card_id').references('id').inTable('user_cards').onDelete('CASCADE');\n    table.jsonb('order_details').notNullable()\n    table.boolean('completed').notNullable().defaultTo(true)\n    table.boolean('cancelled').defaultTo(false)\n    table.boolean('paid').defaultTo(false)\n    table.uuid('calculated_order_id').references('id').inTable('calculated_orders').onDelete('CASCADE').notNullable();\n    table.timestamps(true,true);\n\n  })\n\nexport const down = knex => knex.schema.dropTableIfExists('orders')\n"],"file":"20211203105003_orders.js"}