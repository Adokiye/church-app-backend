{"version":3,"sources":["../../../src/db/migrations/20211203104929_brands.js"],"names":["up","knex","schema","createTable","table","uuid","primary","notNullable","references","inTable","onDelete","defaultTo","string","unique","time","jsonb","JSON","stringify","timestamps","down","dropTableIfExists"],"mappings":";;;;;;;AAAO,IAAMA,EAAE,GAAG,SAALA,EAAK,CAAAC,IAAI;AAAA,SACpBA,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwB,QAAxB,EAAkC,UAAAC,KAAK,EAAI;AACzCA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,OAAjB,GAA2BC,WAA3B;AACAH,IAAAA,KAAK,CACFC,IADH,CACQ,cADR,EAEGG,UAFH,CAEc,IAFd,EAGGC,OAHH,CAGW,YAHX,EAIGC,QAJH,CAIY,SAJZ,EAKGH,WALH;AAMAH,IAAAA,KAAK,WAAL,CAAc,QAAd,EAAwBG,WAAxB,GAAsCI,SAAtC,CAAgD,IAAhD;AACAP,IAAAA,KAAK,CAACQ,MAAN,CAAa,MAAb,EAAqBL,WAArB;AACAH,IAAAA,KAAK,CAACQ,MAAN,CAAa,qBAAb,EAAoCC,MAApC,GAA6CN,WAA7C;AACAH,IAAAA,KAAK,CAACQ,MAAN,CAAa,SAAb,EAAwB,EAAxB;AACAR,IAAAA,KAAK,CAACQ,MAAN,CAAa,aAAb,EAA4B,IAA5B;AACAR,IAAAA,KAAK,CAACU,IAAN,CAAW,cAAX;AACAV,IAAAA,KAAK,CAACU,IAAN,CAAW,cAAX;AACAV,IAAAA,KAAK,CAACQ,MAAN,CAAa,MAAb;AACAR,IAAAA,KAAK,CAACW,KAAN,CAAY,QAAZ,EAAsBR,WAAtB,GAAoCI,SAApC,CAA8CK,IAAI,CAACC,SAAL,CAAe,EAAf,CAA9C;AACAb,IAAAA,KAAK,CAACW,KAAN,CAAY,aAAZ,EAA2BR,WAA3B,GAAyCI,SAAzC,CAAmDK,IAAI,CAACC,SAAL,CAAe,EAAf,CAAnD;AACAb,IAAAA,KAAK,CAACW,KAAN,CAAY,YAAZ,EAA0BR,WAA1B,GAAwCI,SAAxC,CAAkDK,IAAI,CAACC,SAAL,CAAe,EAAf,CAAlD;AACAb,IAAAA,KAAK,CAACW,KAAN,CAAY,gBAAZ,EAA8BR,WAA9B,GAA4CI,SAA5C,CAAsDK,IAAI,CAACC,SAAL,CAAe,EAAf,CAAtD;AACAb,IAAAA,KAAK,CAACW,KAAN,CAAY,6BAAZ,EAA2CR,WAA3C,GAAyDI,SAAzD,CAAmEK,IAAI,CAACC,SAAL,CAAe,EAAf,CAAnE;AACAb,IAAAA,KAAK,CAACW,KAAN,CAAY,0BAAZ,EAAwCR,WAAxC,GAAsDI,SAAtD,CAAgEK,IAAI,CAACC,SAAL,CAAe,EAAf,CAAhE;AAGAb,IAAAA,KAAK,CAACc,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACD,GAzBD,CADoB;AAAA,CAAf;;;;AA4BA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAlB,IAAI;AAAA,SAAIA,IAAI,CAACC,MAAL,CAAYkB,iBAAZ,CAA8B,QAA9B,CAAJ;AAAA,CAAjB","sourcesContent":["export const up = knex =>\n  knex.schema.createTable('brands', table => {\n    table.uuid('id').primary().notNullable()\n    table\n      .uuid('cokitchen_id')\n      .references('id')\n      .inTable('cokitchens')\n      .onDelete('CASCADE')\n      .notNullable()\n    table.boolean('active').notNullable().defaultTo(true)\n    table.string('name').notNullable()\n    table.string('posist_customer_key').unique().notNullable()\n    table.string('summary', 80)\n    table.string('description', 1000)\n    table.time('opening_time')\n    table.time('closing_time')\n    table.string('logo')\n    table.jsonb('images').notNullable().defaultTo(JSON.stringify([]))\n    table.jsonb('posist_data').notNullable().defaultTo(JSON.stringify({}))\n    table.jsonb('brand_tags').notNullable().defaultTo(JSON.stringify([]))\n    table.jsonb('brand_keywords').notNullable().defaultTo(JSON.stringify([]))\n    table.jsonb('brand_descriptive_metadatas').notNullable().defaultTo(JSON.stringify([]))\n    table.jsonb('brand_business_metadatas').notNullable().defaultTo(JSON.stringify([]))\n\n   \n    table.timestamps(true, true)\n  })\n\nexport const down = knex => knex.schema.dropTableIfExists('brands')\n"],"file":"20211203104929_brands.js"}