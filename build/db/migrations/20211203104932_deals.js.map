{"version":3,"sources":["../../../src/db/migrations/20211203104932_deals.js"],"names":["up","knex","schema","createTable","table","uuid","primary","notNullable","references","inTable","onDelete","defaultTo","string","bigInteger","jsonb","JSON","stringify","decimal","timestamps","down","dropTableIfExists"],"mappings":";;;;;;;AAAO,IAAMA,EAAE,GAAG,SAALA,EAAK,CAAAC,IAAI;AAAA,SACpBA,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwB,OAAxB,EAAiC,UAAAC,KAAK,EAAI;AACxCA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,OAAjB,GAA2BC,WAA3B;AACAH,IAAAA,KAAK,CAACC,IAAN,CAAW,cAAX,EAA2BG,UAA3B,CAAsC,IAAtC,EAA4CC,OAA5C,CAAoD,YAApD,EAAkEC,QAAlE,CAA2E,SAA3E,EAAsFH,WAAtF;AAEAH,IAAAA,KAAK,CAACC,IAAN,CAAW,UAAX,EAAuBG,UAAvB,CAAkC,IAAlC,EAAwCC,OAAxC,CAAgD,QAAhD,EAA0DC,QAA1D,CAAmE,SAAnE,EAA8EH,WAA9E;AACAH,IAAAA,KAAK,WAAL,CAAc,QAAd,EAAwBG,WAAxB,GAAsCI,SAAtC,CAAgD,IAAhD;AACAP,IAAAA,KAAK,CAACQ,MAAN,CAAa,MAAb,EAAqBL,WAArB;AACAH,IAAAA,KAAK,CAACQ,MAAN,CAAa,aAAb,EAA2B,IAA3B,EAAiCL,WAAjC;AACAH,IAAAA,KAAK,CAACS,UAAN,CAAiB,KAAjB,EAAyBN,WAAzB,GAAuCI,SAAvC,CAAiD,CAAjD;AACAP,IAAAA,KAAK,CAACS,UAAN,CAAiB,KAAjB,EAAyBN,WAAzB,GAAuCI,SAAvC,CAAiD,CAAjD;AACAP,IAAAA,KAAK,CAACU,KAAN,CAAY,QAAZ,EAAsBP,WAAtB,GAAoCI,SAApC,CAA8CI,IAAI,CAACC,SAAL,CAAe,EAAf,CAA9C;AACAZ,IAAAA,KAAK,CAACa,OAAN,CAAc,MAAd,EAAqB,CAArB,EAAuB,CAAvB,EAA0BV,WAA1B;AACAH,IAAAA,KAAK,CAACQ,MAAN,CAAa,WAAb,EAA0BL,WAA1B;AAEAH,IAAAA,KAAK,CAACc,UAAN,CAAiB,IAAjB,EAAsB,IAAtB;AAED,GAhBD,CADoB;AAAA,CAAf;;;;AAmBA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAlB,IAAI;AAAA,SAAIA,IAAI,CAACC,MAAL,CAAYkB,iBAAZ,CAA8B,OAA9B,CAAJ;AAAA,CAAjB","sourcesContent":["export const up = knex =>\n  knex.schema.createTable('deals', table => {\n    table.uuid('id').primary().notNullable()\n    table.uuid('deal_type_id').references('id').inTable('deal_types').onDelete('CASCADE').notNullable();\n\n    table.uuid('brand_id').references('id').inTable('brands').onDelete('CASCADE').notNullable();\n    table.boolean('active').notNullable().defaultTo(true)\n    table.string(\"name\").notNullable();\n    table.string(\"description\",1000).notNullable();\n    table.bigInteger(\"min\",).notNullable().defaultTo(0);\n    table.bigInteger(\"max\",).notNullable().defaultTo(0);\n    table.jsonb(\"images\").notNullable().defaultTo(JSON.stringify([]));\n    table.decimal('rate',2,1).notNullable()\n    table.string('to_expire').notNullable()\n   \n    table.timestamps(true,true);\n\n  })\n\nexport const down = knex => knex.schema.dropTableIfExists('deals')\n"],"file":"20211203104932_deals.js"}