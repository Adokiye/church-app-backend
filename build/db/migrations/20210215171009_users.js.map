{"version":3,"sources":["../../../src/db/migrations/20210215171009_users.js"],"names":["exports","up","knex","schema","raw","createTable","table","uuid","primary","notNullable","defaultTo","string","unique","specificType","enu","date","bigInteger","timestamps","down","dropTable"],"mappings":";;AAAAA,OAAO,CAACC,EAAR,GAAa,UAAUC,IAAV,EAAgB;AAC3B,SAAOA,IAAI,CAACC,MAAL,CACJC,GADI,CACA,uCADA,EAEJC,WAFI,CAEQ,OAFR,EAEiB,UAAAC,KAAK,EAAI;AAC7BA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,OAAjB,GAA2BC,WAA3B;AACAH,IAAAA,KAAK,WAAL,CAAc,QAAd,EAAwBG,WAAxB,GAAsCC,SAAtC,CAAgD,IAAhD;AACAJ,IAAAA,KAAK,CAACK,MAAN,CAAa,UAAb,EAAyBC,MAAzB;AACAN,IAAAA,KAAK,CAACO,YAAN,CAAmB,OAAnB,EAA4B,QAA5B;AACAP,IAAAA,KAAK,WAAL,CAAc,iBAAd,EAAiCG,WAAjC,GAA+CC,SAA/C,CAAyD,KAAzD;AACAJ,IAAAA,KAAK,CAACK,MAAN,CAAa,qBAAb,EAAoCC,MAApC;AACAN,IAAAA,KAAK,CACFK,MADH,CACU,MADV,EAEGF,WAFH;AAIAH,IAAAA,KAAK,CAACK,MAAN,CAAa,YAAb;AACAL,IAAAA,KAAK,CAACK,MAAN,CAAa,WAAb;AAEAL,IAAAA,KAAK,CAACK,MAAN,CAAa,YAAb;AACAL,IAAAA,KAAK,CAACK,MAAN,CAAa,cAAb,EAA6BC,MAA7B,GAAsCH,WAAtC;AACAH,IAAAA,KAAK,CACFQ,GADH,CACO,aADP,EACsB,CAAC,MAAD,EAAS,QAAT,EAAmB,aAAnB,CADtB,EACyD,CACrD;AACA;AAFqD,KADzD,EAKGJ,SALH,CAKa,aALb;AAMAJ,IAAAA,KAAK,CAACS,IAAN,CAAW,KAAX;AACAT,IAAAA,KAAK,CAACK,MAAN,CAAa,UAAb;AACAL,IAAAA,KAAK,CAACK,MAAN,CAAa,sBAAb,EAAqCC,MAArC;AACAN,IAAAA,KAAK,CAACU,UAAN,CAAiB,KAAjB;AACAV,IAAAA,KAAK,CAACU,UAAN,CAAiB,KAAjB;AACAV,IAAAA,KAAK,CAACW,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACD,GA9BI,CAAP;AA+BD,CAhCD;;AAkCAjB,OAAO,CAACkB,IAAR,GAAe,UAAUhB,IAAV,EAAgB;AAC7B,SAAOA,IAAI,CAACC,MAAL,CAAYgB,SAAZ,CAAsB,OAAtB,CAAP,CAD6B,CAE7B;AACA;AACA;AACA;AACA;AACD,CAPD","sourcesContent":["exports.up = function (knex) {\n  return knex.schema\n    .raw('CREATE EXTENSION IF NOT EXISTS CITEXT')\n    .createTable('users', table => {\n      table.uuid('id').primary().notNullable()\n      table.boolean('active').notNullable().defaultTo(true)\n      table.string('username').unique()\n      table.specificType('email', 'CITEXT')\n      table.boolean('email_confirmed').notNullable().defaultTo(false)\n      table.string('email_confirm_token').unique()\n      table\n        .string('role')\n        .notNullable()\n\n      table.string('first_name')\n      table.string('last_name')\n\n      table.string('other_name')\n      table.string('phone_number').unique().notNullable()\n      table\n        .enu('user_gender', ['Male', 'Female', 'Unspecified'], {\n          // useNative: true,\n          // enumName: 'user_gender',\n        })\n        .defaultTo('Unspecified')\n      table.date('dob')\n      table.string('password')\n      table.string('password_reset_token').unique()\n      table.bigInteger('lat')\n      table.bigInteger('lng')\n      table.timestamps(true, true)\n    })\n}\n\nexports.down = function (knex) {\n  return knex.schema.dropTable('users')\n  // return knex.raw(\n  //   `\n  //   DROP TYPE \"user_gender\";\n  //   `\n  // );\n}\n"],"file":"20210215171009_users.js"}