{"version":3,"sources":["../../../src/app/models/user.js"],"names":["User","baseModel","logistics_company","relation","Model","BelongsToOneRelation","modelClass","LogisticsCompany","join","from","to","free_deliveries","HasManyRelation","FreeDelivery","device_tokens","DeviceToken","user_saved_addresses","UserSavedAddress","referral_code","HasOneRelation","ReferralCode"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;IAEMA,I;;;;;;;;;;;EAAa,sBAAUC,gBAAV,C;;iCAAbD,I,eACe,O;iCADfA,I,YAGY,CACd,UADc,EAEd,sBAFc,EAGd,qBAHc,EAId,sBAJc,C;iCAHZA,I,sBAUsB;AACxBE,EAAAA,iBAAiB,EAAE;AACjBC,IAAAA,QAAQ,EAAEC,iBAAMC,oBADC;AAEjBC,IAAAA,UAAU,EAAEC,6BAFK;AAGjBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,4BADF;AAEJC,MAAAA,EAAE,EAAE;AAFA;AAHW,GADK;AASxBC,EAAAA,eAAe,EAAE;AACfR,IAAAA,QAAQ,EAAEC,iBAAMQ,eADD;AAEfN,IAAAA,UAAU,EAAEO,yBAFG;AAGfL,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,yBADF;AAEJC,MAAAA,EAAE,EAAE;AAFA;AAHS,GATO;AAiBxBI,EAAAA,aAAa,EAAE;AACbX,IAAAA,QAAQ,EAAEC,iBAAMQ,eADH;AAEbN,IAAAA,UAAU,EAAES,wBAFC;AAGbP,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,uBADF;AAEJC,MAAAA,EAAE,EAAE;AAFA;AAHO,GAjBS;AAyBxBM,EAAAA,oBAAoB,EAAE;AACpBb,IAAAA,QAAQ,EAAEC,iBAAMQ,eADI;AAEpBN,IAAAA,UAAU,EAAEW,8BAFQ;AAGpBT,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,8BADF;AAEJC,MAAAA,EAAE,EAAE;AAFA;AAHc,GAzBE;AAiCxBQ,EAAAA,aAAa,EAAC;AACZf,IAAAA,QAAQ,EAAEC,iBAAMe,cADJ;AAEZb,IAAAA,UAAU,EAAEc,yBAFA;AAGZZ,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,wBADF;AAEJC,MAAAA,EAAE,EAAE;AAFA;AAHM;AAjCU,C;eA2CbV,I","sourcesContent":["import { Model } from 'objection'\n\nimport { baseModel, modelUuid, modelUnique } from './index'\n\nimport bcrypt from 'bcrypt'\nimport Role from './role'\nimport LogisticsCompany from './logistics_company'\nimport FreeDelivery from './free_delivery'\nimport UserSetting from './user_setting'\nimport DeviceToken from './device_token'\nimport UserSavedAddress from './user_saved_address'\nimport ReferralCode from './referral_code'\n\nclass User extends modelUuid(baseModel) {\n  static tableName = 'users'\n\n  static hidden = [\n    'password',\n    'password_reset_token',\n    'email_confirm_token',\n    'logistics_company_id'\n  ]\n\n  static relationMappings = {\n    logistics_company: {\n      relation: Model.BelongsToOneRelation,\n      modelClass: LogisticsCompany,\n      join: {\n        from: 'users.logistics_company_id',\n        to: 'logistics_companies.id'\n      }\n    },\n    free_deliveries: {\n      relation: Model.HasManyRelation,\n      modelClass: FreeDelivery,\n      join: {\n        from: 'free_deliveries.user_id',\n        to: 'users.id'\n      }\n    },\n    device_tokens: {\n      relation: Model.HasManyRelation,\n      modelClass: DeviceToken,\n      join: {\n        from: 'device_tokens.user_id',\n        to: 'users.id'\n      }\n    },\n    user_saved_addresses: {\n      relation: Model.HasManyRelation,\n      modelClass: UserSavedAddress,\n      join: {\n        from: 'user_saved_addresses.user_id',\n        to: 'users.id'\n      }\n    },\n    referral_code:{\n      relation: Model.HasOneRelation,\n      modelClass: ReferralCode,\n      join: {\n        from: 'referral_codes.user_id',\n        to: 'users.id'\n      }\n    }\n  }\n}\nexport default User\n"],"file":"user.js"}